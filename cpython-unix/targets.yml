# This file defines configurations for each supported build target/triple.
#
# host_platform
#    Defines the Python sys.platform value where this configuration
#    can be built from.
#
# needs_toolchain
#    Whether this build requires the presence of a custom compiled toolchain.
#    If not defined, it is assumed the toolchain is present in the build
#    environment already.
#
# needs
#    Packages required to build Python.
#
# host_cc
#    Path to C compiler to use when producing binaries targeting the
#    current build environment.
#
# openssl_target
#    Name of OpenSSL platform build target.

---
aarch64-apple-darwin:
  host_platforms:
    - darwin
  needs_toolchain: true
  host_cc: clang
  needs:
    - bzip2
    - libedit
    - libffi
    - ncurses
    - sqlite
    - tcl
    - tk
    - tix
    - uuid
    - xz
    - zlib
  openssl_target: darwin64-arm64-cc

aarch64-apple-ios:
  host_platforms:
    - darwin
  needs_toolchain: true
  host_cc: clang
  needs:
    - bzip2
    - libffi
    - sqlite
    - xz
    - zlib
  openssl_target: ios64-cross

aarch64-unknown-linux-gnu:
  host_platforms:
    - linux
  docker_image_suffix: .cross
  host_cc: /usr/bin/x86_64-linux-gnu-gcc
  needs:
    - bdb
    - binutils
    - bzip2
    - gdbm
    - libedit
    - libffi
    - libX11
    - libXau
    - libxcb
    - ncurses
    - readline
    - sqlite
    - tcl
    - tk
    - tix
    - uuid
    - xorgproto
    - xz
    - zlib
  openssl_target: linux-aarch64

arm64-apple-tvos:
  host_platforms:
    - darwin
  needs_toolchain: true
  host_cc: clang
  needs:
    - bzip2
    - sqlite
    - xz
    - zlib
  openssl_target: todo

armv7-unknown-linux-gnueabi:
  host_platforms:
    - linux
  docker_image_suffix: .cross
  host_cc: /usr/bin/x86_64-linux-gnu-gcc
  needs:
    - bdb
    - binutils
    - bzip2
    - gdbm
    - libedit
    - libffi
    - libX11
    - libXau
    - libxcb
    - ncurses
    - readline
    - sqlite
    - tcl
    - tk
    - tix
    - uuid
    - xorgproto
    - xz
    - zlib
  openssl_target: linux-armv4

armv7-unknown-linux-gnueabihf:
  host_platforms:
    - linux
  docker_image_suffix: .cross
  host_cc: /usr/bin/x86_64-linux-gnu-gcc
  needs:
    - bdb
    - binutils
    - bzip2
    - gdbm
    - libedit
    - libffi
    - libX11
    - libXau
    - libxcb
    - ncurses
    - readline
    - sqlite
    - tcl
    - tk
    - tix
    - uuid
    - xorgproto
    - xz
    - zlib
  openssl_target: linux-armv4

i686-unknown-linux-gnu:
  host_platforms:
    - linux
  needs_toolchain: true
  host_cc: clang
  needs:
    - bdb
    - binutils
    - bzip2
    - gcc
    # TODO cross-compiling has issues.
    # - gdbm
    - libedit
    - libffi
    - libX11
    - libXau
    - libxcb
    - ncurses
    - readline
    - sqlite
    - tcl
    - tk
    - tix
    - uuid
    - xorgproto
    - xz
    - zlib
  openssl_target: linux-x86-clang

mips-unknown-linux-gnu:
  host_platforms:
    - linux
  docker_image_suffix: .cross
  host_cc: /usr/bin/x86_64-linux-gnu-gcc
  needs:
    - bdb
    - binutils
    - bzip2
    - gdbm
    - libedit
    - libffi
    - libX11
    - libXau
    - libxcb
    - ncurses
    - readline
    - sqlite
    - tcl
    - tk
    - tix
    - uuid
    - xorgproto
    - xz
    - zlib
  openssl_target: linux-mips32

mipsel-unknown-linux-gnu:
  host_platforms:
    - linux
  docker_image_suffix: .cross
  host_cc: /usr/bin/x86_64-linux-gnu-gcc
  needs:
    - bdb
    - binutils
    - bzip2
    - gdbm
    - libedit
    - libffi
    - libX11
    - libXau
    - libxcb
    - ncurses
    - readline
    - sqlite
    - tcl
    - tk
    - tix
    - uuid
    - xorgproto
    - xz
    - zlib
  openssl_target: linux-mips32

s390x-unknown-linux-gnu:
  host_platforms:
    - linux
  docker_image_suffix: .cross
  host_cc: /usr/bin/x86_64-linux-gnu-gcc
  needs:
    - bdb
    - binutils
    - bzip2
    - gdbm
    - libedit
    - libffi
    - libX11
    - libXau
    - libxcb
    - ncurses
    - readline
    - sqlite
    - tcl
    - tk
    - tix
    - uuid
    - xorgproto
    - xz
    - zlib
  openssl_target: linux64-s390x

thumb7k-apple-watchos:
  host_platforms:
    - darwin
  needs_toolchain: true
  host_cc: clang
  needs:
    - bzip2
    - sqlite
    - xz
    - zlib
  openssl_target: todo

x86_64-apple-darwin:
  host_platforms:
    - darwin
  host_cc: clang
  needs:
    - bzip2
    - libedit
    - libffi
    - ncurses
    - sqlite
    - tcl
    - tk
    - tix
    - uuid
    - xz
    - zlib
  openssl_target: darwin64-x86_64-cc

x86_64-apple-ios:
  host_platforms:
    - darwin
  needs_toolchain: true
  host_cc: clang
  needs:
    - bzip2
    - libffi
    - sqlite
    - xz
    - zlib
  openssl_target: darwin64-x86_64-cc

x86_64-apple-tvos:
  host_platforms:
    - darwin
  needs_toolchain: true
  host_cc: clang
  needs:
    - bzip2
    - sqlite
    - xz
  openssl_target: todo

x86_64-apple-watchos:
  host_platforms:
    - darwin
  needs_toolchain: true
  host_cc: clang
  needs:
    - bzip2
    - sqlite
    - xz
    - zlib
  openssl_target: todo

x86_64-unknown-linux-gnu:
  host_platforms:
    - linux
  needs_toolchain: true
  host_cc: clang
  needs:
    - bdb
    - binutils
    - bzip2
    - gcc
    - gdbm
    - libedit
    - libffi
    - libX11
    - libXau
    - libxcb
    - ncurses
    - readline
    - sqlite
    - tcl
    - tk
    - tix
    - uuid
    - xorgproto
    - xz
    - zlib
  openssl_target: linux-x86_64

x86_64-unknown-linux-musl:
  host_platforms:
    - linux
  needs_toolchain: true
  host_cc: clang
  needs:
    - bdb
    - binutils
    - bzip2
    - gcc
    - gdbm
    - libedit
    - libffi
    - libX11
    - libXau
    - libxcb
    - musl
    - ncurses
    - readline
    - sqlite
    - tcl
    - tk
    - tix
    - uuid
    - xorgproto
    - xz
    - zlib
  openssl_target: unsupported
